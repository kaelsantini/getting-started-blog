<%= render "shared/header" %>

<main role="main">

  <div class="container">
      <h1>Show Article</h1>
      <div class="row">
        <div class="col-md-12 text-right">
          <%= link_to edit_article_path(@article), class: "btn btn-secondary" do %>
            <i class="fas fa-edit"></i> Edit
          <% end %>
          <%= render 'components/back_button', link: articles_path %>
        </div>
      </div>

      <%= render 'form' %>

      <div class="row">
        <h2>Comments (<%= @article.comments.length %>)</h2>
        <div class="col-md-12">
          <%= render "comments/comment" %>
        </div>
      </div>
      <div class="row">
          <div class="col-md-12">
          <h2>Add a comment:</h2>
          <%= form_with(model: [ @article, @article.comments.build ], local: true) do |form| %>
            <div class="form-group">
              <%= form.label :commenter %><br>
              <%= form.text_field :commenter, class: "form-control" %>
            </div>
            <div class="form-group">
              <%= form.label :body %><br>
              <%= form.text_area :body, class: "form-control", rows: "3" %>
            </div>
            <p>
              <%= form.submit class: "btn btn-primary"%>
            </p>
          <% end %>
          </div>
      </div>
  </div>

</main>
